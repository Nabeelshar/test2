import{f as w,D as _,h,g as m,p as v,n as k,er as x,bj as f,aS as g,s as L,be as B,X as D,ah as R,b5 as S,z as C,o as b,d as A,e as i,t as F,j as r,i as j,c as H,aH as U,m as z,x as I}from"./index.c3832659.js";import{a as M}from"./lens-actions.b7535d86.js";import{s as $,h as E,c as J}from"./json.eb0cc1ac.js";import{J as N}from"./network.446b676d.js";import"./check-circle.40af7866.js";import"./importers.9de3bd0e.js";import"./___vite-browser-external_commonjs-proxy.7b87ee21.js";import"./TaskOption.b54d3c79.js";import"./rotate-ccw.ad997138.js";import"./json.63f2d344.js";import"./utils.d2e10092.js";import"./date.dcaddfa2.js";import"./helpers.2f3e7a37.js";import"./EnvInput.vue_vue_type_script_setup_true_lang.e761a7d3.js";const P={class:"flex flex-col flex-1"},T={class:"sticky z-10 flex items-center justify-between flex-shrink-0 pl-4 overflow-x-auto border-b bg-primary border-dividerLight top-lowerSecondaryStickyFold"},V={class:"font-semibold truncate text-secondaryLight"},K={class:"flex"},O=["src","alt"],ie=w({__name:"ImageLensRenderer",props:{response:null},setup(c){const t=c,d=_(),s=h(""),u=m(()=>v(t.response,B(N("type",["fail","success"])),x(f(e=>e.headers,L(e=>e.key.toLowerCase()==="content-type"),g(f(e=>e.value,$(";"),E,J)))),k(()=>"text/plain"))),{downloadIcon:y,downloadResponse:p}=M(u.value,m(()=>t.response.body));return D(t.response,()=>{s.value="";const e=t.response.body,n=new Uint8Array(e),a=new Blob([n.buffer]),o=new FileReader;o.onload=({target:l})=>{s.value=l.result},o.readAsDataURL(a)}),R(()=>{s.value="";const e=t.response.body,n=new Uint8Array(e),a=new Blob([n.buffer]),o=new FileReader;o.onload=({target:l})=>{s.value=l.result},o.readAsDataURL(a)}),S("response.file.download",()=>p()),(e,n)=>{const a=I,o=C("tippy");return b(),A("div",P,[i("div",T,[i("label",V,F(r(d)("response.body")),1),i("div",K,[c.response.body?j((b(),H(a,{key:0,title:`${r(d)("action.download_file")} <kbd>${r(U)()}</kbd><kbd>J</kbd>`,icon:r(y),onClick:r(p)},null,8,["title","icon","onClick"])),[[o,{theme:"tooltip",allowHTML:!0}]]):z("",!0)])]),i("img",{class:"flex max-w-full border-b border-dividerLight",src:s.value,loading:"lazy",alt:s.value},null,8,O)])}}});export{ie as default};
//# sourceMappingURL=ImageLensRenderer.ada20f03.js.map
