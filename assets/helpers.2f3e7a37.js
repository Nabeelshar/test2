import{p as c,cA as h,cB as n,cC as g,bj as m,cD as q,cE as C,cf as a,cF as f,cG as y,cH as D,cI as b,aL as r,cJ as o,cK as l,cL as I,cd as v,cM as w}from"./index.c3832659.js";const d=10,E=async t=>{const e=[];for(;;){const s=await a({query:b,variables:{collectionID:t,cursor:e.length>0?e[e.length-1]:void 0}});if(r(s))return o(s.left);if(e.push(...s.right.collection.children.map(i=>i.id)),s.right.collection.children.length!==d)break}return l(e)},G=async t=>{const e=[];for(;;){const s=await a({query:I,variables:{collectionID:t,cursor:e.length>0?e[e.length-1].id:void 0}});if(r(s))return o(s.left);if(e.push(...s.right.requestsInCollection.map(i=>({id:i.id,request:v(JSON.parse(i.request)),collectionID:t,title:i.title}))),s.right.requestsInCollection.length!==d)break}return l(e)},L=t=>c(y,n("title",()=>c(()=>a({query:f,variables:{collectionID:t}}),h(e=>e.collection.title))),n("children",()=>c(()=>E(t),g(m(C(L),q)))),n("requests",()=>()=>G(t)),h(({title:e,children:s,requests:i})=>({id:t,children:s,requests:i,title:e}))),A=t=>{var e,s,i,u;return D({name:t.title,folders:(s=(e=t.children)==null?void 0:e.map(A))!=null?s:[],requests:(u=(i=t.requests)==null?void 0:i.map(p=>p.request))!=null?u:[]})},J=async t=>{const e=await a({query:w,variables:{teamID:t}});return r(e)?o(e.left):l(e.right)};export{d as B,J as a,L as g,A as t};
//# sourceMappingURL=helpers.2f3e7a37.js.map
