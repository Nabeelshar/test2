import{l as m,O as h,U as y,a as P}from"./importers.9de3bd0e.js";import{a as l,c as v,t as A}from"./TaskOption.b54d3c79.js";import{f as D,D as F,ah as M,p as r,gI as C,fL as L,o as N,d as S,a9 as x,a6 as b,gv as k,gF as f,cC as B,gJ as U,cB as V,gK as J,gA as W,cG as q,aa as w}from"./index.c3832659.js";import"./json.eb0cc1ac.js";import"./___vite-browser-external_commonjs-proxy.7b87ee21.js";const u=i=>a=>typeof a===i,j=D({__name:"import",setup(i){const a=w(),d=x(),n=b(),c=F(),p="importer_invalid_type",_="importer_invalid_fetch",R=(t,s)=>r(q,V("importer",()=>r(y,J(o=>o.applicableTo.includes("url-import")&&o.id===s),W(()=>p))),U("content",()=>r(t,l(u("string")),v(T),f(()=>_))),k(({importer:o,content:e})=>r(e.data,l(u("string")),f(()=>m),B(g=>o.importer([g])))));M(async()=>{const{query:t}=a,s=t.url,o=t.type,e=await R(s,o)();r(e,C(E,O)),d.replace("/")});const I={[p]:"import.import_from_url_invalid_type",[_]:"import.import_from_url_invalid_fetch",[m]:"import.import_from_url_invalid_file_format",[h]:"import.import_from_url_invalid_file_format"},E=t=>{n.error(c(I[t]).toString())},O=t=>{L(t),n.success(c("import.import_from_url_success").toString())},T=t=>A(()=>P.get(t,{responseType:"text",transitional:{forcedJSONParsing:!1}}));return(t,s)=>(N(),S("div"))}});export{j as default};
//# sourceMappingURL=import.728d9b94.js.map
